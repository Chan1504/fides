
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://ethyca.github.io/fides/deployment/">
      
      <link rel="icon" href="../img/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.2.5">
    
    
      
        <title>Deployment Guide - Fides</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.be71726b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700%7C&display=fallback">
        <style>:root{--md-text-font-family:"Source Sans Pro";--md-code-font-family:""}</style>
      
    
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css">
    
      <link rel="stylesheet" href="../css/fides.css">
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deployment-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Fides" class="md-header__button md-logo" aria-label="Fides" data-md-component="logo">
      
  <img src="../img/fides-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Fides
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deployment Guide
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Fides" class="md-nav__button md-logo" aria-label="Fides" data-md-component="logo">
      
  <img src="../img/fides-logo.svg" alt="logo">

    </a>
    Fides
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        What is Fides?
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Use Cases
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Use Cases" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Use Cases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../use_cases/use_case1.md" class="md-nav__link">
        Evaluating Privacy in CI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../use_cases/use_case2.md" class="md-nav__link">
        Automating Data Rights
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Getting Started
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/docker/" class="md-nav__link">
        Fidesctl in Docker
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/manual/" class="md-nav__link">
        Fidesctl Manually (without Docker)
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Tutorial
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorial" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/taxonomy/" class="md-nav__link">
        Understanding the Fides Taxonomy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/dataset/" class="md-nav__link">
        Annotate your Datasets
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/system/" class="md-nav__link">
        Declare your Systems
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/policy/" class="md-nav__link">
        Write Privacy Policy (as code)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/evaluate/" class="md-nav__link">
        Evaluate your Resources
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/ci/" class="md-nav__link">
        Integrate your CI
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Deployment Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Deployment Guide
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-setup-hosted-database" class="md-nav__link">
    Step 1: Setup Hosted Database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-setup-the-fidesctl-web-server" class="md-nav__link">
    Step 2: Setup the fidesctl Web Server
  </a>
  
    <nav class="md-nav" aria-label="Step 2: Setup the fidesctl Web Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-install-fidesctl-via-docker" class="md-nav__link">
    Option 1: Install fidesctl via Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-install-fidesctl-via-python" class="md-nav__link">
    Option 2: Install fidesctl via Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-the-web-server" class="md-nav__link">
    Test the Web Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-install-fidesctl-cli-on-your-developer-machines" class="md-nav__link">
    Step 3: Install fidesctl CLI on your Developer Machines
  </a>
  
    <nav class="md-nav" aria-label="Step 3: Install fidesctl CLI on your Developer Machines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-python-projects-via-pip-install" class="md-nav__link">
    Option 1: Python Projects (via pip install)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-non-python-projects" class="md-nav__link">
    Option 2: Non-Python Projects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-initialize-the-web-server-database" class="md-nav__link">
    Step 4: Initialize the Web Server Database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-install-fidesctl-cli-on-ci-build-server" class="md-nav__link">
    Step 5: Install fidesctl CLI on CI Build Server
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Fides Language
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Fides Language" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Fides Language
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language/syntax/" class="md-nav__link">
        Syntax
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language/resources/" class="md-nav__link">
        Resources
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_4" type="checkbox" id="__nav_6_4" >
      
      <label class="md-nav__link" for="__nav_6_4">
        Taxonomy
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Taxonomy" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          Taxonomy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language/taxonomy/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language/taxonomy/explorer/" class="md-nav__link">
        Taxonomy Explorer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language/taxonomy/data_categories/" class="md-nav__link">
        Data Categories
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language/taxonomy/data_uses/" class="md-nav__link">
        Data Uses
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language/taxonomy/data_subjects/" class="md-nav__link">
        Data Subjects
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../language/taxonomy/data_qualifiers/" class="md-nav__link">
        Data Qualifiers
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        CLI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        APIs
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/code_style/" class="md-nav__link">
        Code Style
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/pull_requests/" class="md-nav__link">
        Pull Requests
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../development/releases/" class="md-nav__link">
        Releases
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      <label class="md-nav__link" for="__nav_10">
        Community
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Community" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../community/overview/" class="md-nav__link">
        Github, Slack & Discord
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../community/hints_tips/" class="md-nav__link">
        Community Hints & Tips
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../community/code_of_conduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ethyca/" class="md-nav__link">
        About Ethyca
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-setup-hosted-database" class="md-nav__link">
    Step 1: Setup Hosted Database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-setup-the-fidesctl-web-server" class="md-nav__link">
    Step 2: Setup the fidesctl Web Server
  </a>
  
    <nav class="md-nav" aria-label="Step 2: Setup the fidesctl Web Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-install-fidesctl-via-docker" class="md-nav__link">
    Option 1: Install fidesctl via Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-install-fidesctl-via-python" class="md-nav__link">
    Option 2: Install fidesctl via Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-the-web-server" class="md-nav__link">
    Test the Web Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-install-fidesctl-cli-on-your-developer-machines" class="md-nav__link">
    Step 3: Install fidesctl CLI on your Developer Machines
  </a>
  
    <nav class="md-nav" aria-label="Step 3: Install fidesctl CLI on your Developer Machines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-python-projects-via-pip-install" class="md-nav__link">
    Option 1: Python Projects (via pip install)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-non-python-projects" class="md-nav__link">
    Option 2: Non-Python Projects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-initialize-the-web-server-database" class="md-nav__link">
    Step 4: Initialize the Web Server Database
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-install-fidesctl-cli-on-ci-build-server" class="md-nav__link">
    Step 5: Install fidesctl CLI on CI Build Server
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="deployment-guide">Deployment Guide</h1>
<p>Most of the examples in this documentation focus on a simple setup where everything runs <em>locally</em> on your development machine. But to actually leverage the benefits of <code>fidesctl</code> with a team, you'll need to deploy this to a hosted environment where your developer team can collaborate.</p>
<p>A fully deployed <code>fidesctl</code> environment can be broken down into four parts:</p>
<ol>
<li><a href="#step-1-setup-hosted-database"><strong>Hosted Database</strong></a>: PostgreSQL database server used by the web server to persist state.</li>
<li><a href="#step-2-setup-the-fidesctl-web-server"><strong>Hosted Web Server</strong></a>: Shared instance of <code>fidesctl webserver</code> that acts as a "source-of-truth" for shared resources, is accessible to all developers and CI.</li>
<li><a href="#step-3-install-fidesctl-cli-on-your-developer-machines"><strong>Developer Machines</strong></a>: Developers running <code>fidesctl</code> locally when updating resource files.</li>
<li><a href="#step-5-install-fidesctl-cli-on-ci-build-server"><strong>CI Build Server</strong></a>: Run automated <code>fidesctl evaluate</code> commands both pre- and post-merge, to enforce policy as part of continuous integration.</li>
</ol>
<p><img alt="Deployment Diagram" src="../img/Deployment_Diagram.svg" /></p>
<p>We'll explain how to setup each of these parts individually, starting with the database.</p>
<h2 id="step-1-setup-hosted-database">Step 1: Setup Hosted Database</h2>
<p><code>fidesctl</code>'s database requirements are quite modest; any hosted PostgreSQL DB will do, as long as it's accessible by the webserver. Good options include:</p>
<ul>
<li>Managed PostgreSQL database services (e.g. AWS RDS, GCP Cloud SQL, Azure Database)</li>
<li>Self-hosted PostgreSQL Docker container with a persistent volume mount (e.g. on a Kubernetes cluster)</li>
<li>Self-hosted PostgreSQL server (e.g. on an EC2 server)</li>
</ul>
<p>NOTE: there <em>is no reason to expose this database to the public Internet</em> as long as it is will be accessible by your <code>fidesctl</code> webserver!</p>
<p>Setting up a production-grade PostgreSQL database is likely something your team is already familiar with, so we won't revisit that here. Once it's up and running, all you'll need is the <strong>connection string</strong> that includes the host, user, password, database, etc. Specifically, you'll need a SQLAlchemy-compatible connection string using psycopg2 (<a href="https://docs.sqlalchemy.org/en/14/dialects/postgresql.html#dialect-postgresql-psycopg2-connect">docs here</a>), like:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>postgresql+psycopg2://user:password@host:port/dbname[?key=value&amp;key=value...]
</code></pre></div>
</td></tr></table>
<p>For example:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>postgresql+psycopg2://fidesuser:fidespassword@my-database-server.example.com:5432/fidesctl
</code></pre></div>
</td></tr></table>
<p>The web server requires these connection credentials to be provided in the <code>database_url</code> configuration variable, so make sure you have that ready to go for the next step!</p>
<h2 id="step-2-setup-the-fidesctl-web-server">Step 2: Setup the fidesctl Web Server</h2>
<p>The <code>fidesctl</code> tool can be used for both CLI commands <em>and</em> to run the web server. Internally, the web server is a <a href="https://fastapi.tiangolo.com/">FastAPI</a> application with a <a href="https://www.uvicorn.org/">Uvicorn</a> server to handle requests. To start a server instance, run <code>fidesctl webserver</code> and it will start serving up on port 8080.</p>
<p>The webhost requirements for the <code>fidesctl</code> web server are pretty minimal:</p>
<ul>
<li>A general purpose web server (e.g. for AWS EC2, a <code>t2.small</code> should be plenty)</li>
<li>No persistent storage requirements (this is handled by the hosted database)</li>
<li>Docker version 20.10.8 or newer (if installing via Docker)</li>
<li>OR Python 3.8 or newer (if installing via Python)</li>
</ul>
<p>Depending on your preferences, you can install <code>fidesctl</code> in one of two ways: <em>Docker</em> or <em>Python</em>.</p>
<h3 id="option-1-install-fidesctl-via-docker">Option 1: Install fidesctl via Docker</h3>
<p>If you typically run your applications via Docker, you'll probably be familiar with pulling images and configuring them with environment variables. Setting up a <code>fidesctl webserver</code> should contain no surprises.</p>
<p>First, ensure that Docker is running on your host, with a minimum version of <code>20.10.8</code>.</p>
<p>You can <code>docker pull ethyca/fidesctl</code> to get the latest image from Ethyca's Docker Hub here: <a href="https://hub.docker.com/r/ethyca/fidesctl">ethyca/fidesctl</a>.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>~% docker pull ethyca/fidesctl
</code></pre></div>
</td></tr></table>
<p>Once pulled, you can run <code>docker run ethyca/fidesctl fidesctl webserver</code> to start the server, and provide a few arguments:</p>
<ul>
<li><code>-p 8080:8080</code>: binds port 8080 (the webserver) to port 8080 on the host, so you can connect from the outside</li>
<li><code>--env FIDESCTL__API__DATABASE_URL=&lt;database_url&gt;</code>: overrides the default database URL to the one you created in step 1</li>
</ul>
<p>Putting this together:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>~% docker run <span class="se">\</span>
  -p <span class="m">8080</span>:8080 <span class="se">\</span>
  --env <span class="nv">FIDESCTL__API__DATABASE_URL</span><span class="o">=</span><span class="s2">&quot;postgresql+psycopg2://user:password@host:port/dbname&quot;</span> <span class="se">\</span>
  ethyca/fidesctl <span class="se">\</span>
  fidesctl webserver
INFO:     Started server process <span class="o">[</span><span class="m">1</span><span class="o">]</span>
INFO:     Waiting <span class="k">for</span> application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 <span class="o">(</span>Press CTRL+C to quit<span class="o">)</span>
</code></pre></div>
</td></tr></table>
<p>Now, for most Docker hosts, you won't be calling <code>docker run</code> directly, and instead will be providing configuration variables to Kubernetes/Swarm/ECS/etc. As you can see in the <code>docker run</code> example above, this config is quite minimal and should just involve specifying (1) the image, (2) the port mapping, (3) the <code>FIDESCTL__API__DATABASE_URL</code> environment variable.</p>
<p>Note that there's no need for a persistent volume mount for the web server, it's fully ephemeral and relies on the database for all it's permanent state.</p>
<h3 id="option-2-install-fidesctl-via-python">Option 2: Install fidesctl via Python</h3>
<p>Releases of <code>fidesctl</code> are published to PyPI here: <a href="https://pypi.org/project/fidesctl/">fidesctl</a>. Typically you'll setup a virtual environment and then run <code>pip install</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="o">(</span>venv<span class="o">)</span> ~% pip install fidesctl
</code></pre></div>
</td></tr></table>
<p>Once installed, you'll need a minimial config TOML file to specify the database URL to connect to. Create a file called <code>fidesctl.toml</code> in the working directory you'll run <code>fidesctl</code> from using the following template, replacing the connection string with the one you created in step 1:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">[api]</span>
<span class="n">database_url</span> <span class="o">=</span> <span class="s">&quot;postgresql+psycopg2://user:password@host:port/dbname&quot;</span>
</code></pre></div>
</td></tr></table>
<p>Once installed, you can run <code>fidesctl -f fidesctl.toml webserver</code> to start the server:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="o">(</span>venv<span class="o">)</span> ~% fidesctl -f fidesctl.toml webserver
INFO:     Started server process <span class="o">[</span><span class="m">19878</span><span class="o">]</span>
INFO:     Waiting <span class="k">for</span> application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 <span class="o">(</span>Press CTRL+C to quit<span class="o">)</span>
</code></pre></div>
</td></tr></table>
<p>Ensure that you set up your web server to run this command on startup and map port 8080 as necessary in your firewall rules, etc. and you should be good to go!</p>
<h3 id="test-the-web-server">Test the Web Server</h3>
<p>Once the server is running via either Docker or Python, confirm you know it's URL, as you'll need this configuration variable (<code>server_url</code>) in the next step.</p>
<p>To test that it's running, visit <code>http://{server_url}/health</code> in your browser and you should see <code>{{"data":{"message":"Fides service is healthy!"}}}</code></p>
<h2 id="step-3-install-fidesctl-cli-on-your-developer-machines">Step 3: Install fidesctl CLI on your Developer Machines</h2>
<p>Next, we'll get <code>fidesctl</code> installed as a dependency and configure it to connect to the server from Step 2. As before, you can do this either via PyPI or Docker Hub, though in this case it'll depend heavily on the language used for your project itself: Python projects will naturally find it easy to <code>pip install</code> another dependency, whereas Javascript/Ruby/Java/Go projects will likely find Docker more convenient (NOTE: we'd love to distribute builds for other package managers to simplify this - PRs welcome!).</p>
<h3 id="option-1-python-projects-via-pip-install">Option 1: Python Projects (via pip install)</h3>
<p>Just like with the web server setup, your Python version needs to be Python 3.8 or newer to use <code>fidesctl</code>. If your project is behind, you may need to use the Docker option instead!</p>
<p>For this example, we'll assume you've already got a git repo for your project (e.g. <code>/git/my-test-fides-project</code>) that has a <code>dev-requirements.txt</code> file to manage development dependencies. Add <code>fidesctl</code> to your requirements file (selecting a release version as desired) and run <code>pip install</code>:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="o">(</span>venv<span class="o">)</span> ~/git/my-test-fides-project% cat dev-requirements.txt
fidesctl
<span class="o">(</span>venv<span class="o">)</span> ~/git/my-test-fides-project% pip install -r dev-requirements.txt
...
Installing collected packages: fidesctl
Successfully installed fidesctl-&lt;VERSION&gt;
</code></pre></div>
</td></tr></table>
<p>Now create a minimal <code>fidesctl.toml</code> file with the following contents, replacing the server URL value with the details from step 2:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="k">[cli]</span>
<span class="n">server_url</span> <span class="o">=</span> <span class="s">&quot;http://host:port&quot;</span>
</code></pre></div>
</td></tr></table>
<p>Test out this new config file with a <code>fidesctl ping</code> command to ensure you can reach the server. <code>fidesctl</code> will automatically look in the current directory for a file named <code>fidesctl.toml</code>, or you can specify it with the <code>-f</code> flag. For example, if you've installed locally:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="o">(</span>venv<span class="o">)</span> ~/git/my-test-fides-project% fidesctl -f fidesctl.toml ping
Pinging http://host:port...
Ping Successful!
</code></pre></div>
</td></tr></table>
<p>If this doesn't work, go back to step 2 and troubleshoot your server setup and ensure it's accessible from developer machines.</p>
<p>Lastly, ensure you check-in the changes to <code>dev-requirements.txt</code> and the new <code>fidesctl.toml</code> file to your git repo:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="o">(</span>venv<span class="o">)</span> ~/git/my-test-fides-project% git add dev-requirements.txt
<span class="o">(</span>venv<span class="o">)</span> ~/git/my-test-fides-project% git add fidesctl.toml
<span class="o">(</span>venv<span class="o">)</span> ~/git/my-test-fides-project% git commit -m <span class="s2">&quot;Add fidesctl to repo&quot;</span>
<span class="o">[</span>master <span class="o">(</span>root-commit<span class="o">)</span> e811212<span class="o">]</span> Add fidesctl to repo
</code></pre></div>
</td></tr></table>
<p>You can now use any <code>fidesctl</code> commands as part of your developer environment!</p>
<h3 id="option-2-non-python-projects">Option 2: Non-Python Projects</h3>
<p>For non-Python projects, you've got two options:</p>
<ol>
<li>Install <code>fidesctl</code> globally using <code>pip install</code> without using a project-specific Python virtual env</li>
<li>Use <code>docker run ethyca/fidesctl</code> commands instead</li>
</ol>
<p>Note that, just like when using <code>docker run</code> for the web server, you can specify the <code>FIDESCTL__CLI__SERVER_URL</code> environment variable to the container instead of a config file if you prefer:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>~% docker run --env <span class="nv">FIDESCTL__CLI__SERVER_URL</span><span class="o">=</span>http://host:port ethyca/fidesctl fidesctl ping
</code></pre></div>
</td></tr></table>
<p>Both of these options are a bit messier than with Python projects, but hopefully you can see how you'd update your development environment setup instructions to include one of these two options. The global <code>pip install</code> option works largely the same as in a Python project, except you'll also likely need to instruct developers to install Python 3+ and run the <code>pip install fidesctl</code> command manually. The <code>docker run</code> option works too, it's just less intuitive, so you may want to consider wrapping your typical commands (<code>ping</code>, <code>evaluate --dry</code>, etc.) with some scripts for convenience (e.g. <code>make</code> targets, <code>npm scripts</code>). This is largely a matter of preference, so we'll leave this up to you to figure out how to best integrate this into your development workflow.</p>
<h2 id="step-4-initialize-the-web-server-database">Step 4: Initialize the Web Server Database</h2>
<p>Next, we'll initialize the database to use for the web server. Now that you've got the <code>fidesctl</code> CLI connected from your developer machine, this is as simple as running one command:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span></pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="o">(</span>venv<span class="o">)</span> ~/git/my-test-fides-project% fidesctl init-db
INFO  <span class="o">[</span>alembic.runtime.migration<span class="o">]</span> Context impl PostgresqlImpl.
INFO  <span class="o">[</span>alembic.runtime.migration<span class="o">]</span> Will assume transactional DDL.
----------
Processing organization resources...
CREATED <span class="m">1</span> organization resources.
UPDATED <span class="m">0</span> organization resources.
SKIPPED <span class="m">0</span> organization resources.
----------
Processing data_category resources...
CREATED <span class="m">77</span> data_category resources.
UPDATED <span class="m">0</span> data_category resources.
SKIPPED <span class="m">0</span> data_category resources.
----------
Processing data_use resources...
CREATED <span class="m">23</span> data_use resources.
UPDATED <span class="m">0</span> data_use resources.
SKIPPED <span class="m">0</span> data_use resources.
----------
Processing data_subject resources...
CREATED <span class="m">15</span> data_subject resources.
UPDATED <span class="m">0</span> data_subject resources.
SKIPPED <span class="m">0</span> data_subject resources.
----------
Processing data_qualifier resources...
CREATED <span class="m">5</span> data_qualifier resources.
UPDATED <span class="m">0</span> data_qualifier resources.
SKIPPED <span class="m">0</span> data_qualifier resources.
----------
</code></pre></div>
</td></tr></table>
<p>If you get a database connection error here, it means you've misconfigured the database URL in step 2, so go back and troubleshoot from there.</p>
<p>Once the database is initialized, you're ready to use the <code>fidesctl</code> CLI in your project. The final step is to setup your CI build server to automatically run the core <code>fidesctl</code> commands as part of your CI workflow.</p>
<h2 id="step-5-install-fidesctl-cli-on-ci-build-server">Step 5: Install fidesctl CLI on CI Build Server</h2>
<p>Nowadays, most CI providers tend to have simple solutions to run Docker images, so you can follow the setup instructions from step 2 to <code>docker pull ethyca/fidesctl</code> in your CI scripts (also see step 2 for how to set <code>FIDESCTL__CLI__SERVER_URL</code> accordingly to point to your hosted web server). You'll want to use commands like <code>fidesctl ping</code> in some test CI actions at first, to make sure that your web server is connected, and then you can move on to automating your CI workflow.</p>
<p>See the <a href="../tutorial/ci/">Integrate your CI</a> tutorial for more detail on what kinds of CI actions make sense, but generally you'll want to configure two:</p>
<ol>
<li>Run <code>fidesctl evaluate --dry &lt;path/to/resources&gt;</code> as a "check" on every commit for development branches (or at least for every pull request)</li>
<li>Run <code>fidesctl evaluate &lt;path/to/resources&gt;</code> on every commit to your main branch</li>
</ol>
<p>If you've configured everything correctly up until now, both your developer machines and your CI build server should be able to access the same shared <code>fidesctl webserver</code> instance from step 2, meaning you've got a hosted, persistent, shared environment for privacy metadata at your organization. Congrats!</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../tutorial/ci/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Integrate your CI" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Integrate your CI
            </div>
          </div>
        </a>
      
      
        
        <a href="../language/overview/" class="md-footer__link md-footer__link--next" aria-label="Next: Overview" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Overview
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top", "navigation.instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.56a63758.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"></script>
      
    
  </body>
</html>